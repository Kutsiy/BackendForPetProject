// Code generated by protoc-gen-ts_proto. DO NOT EDIT.
// versions:
//   protoc-gen-ts_proto  v2.0.2
//   protoc               v3.20.3
// source: protos/post.proto

/* eslint-disable */
import { GrpcMethod, GrpcStreamMethod } from "@nestjs/microservices";
import { Observable } from "rxjs";

export const protobufPackage = "post";

export interface FindPostById {
  id: string;
  refreshToken: string;
}

export interface Rate {
  userSetLike: boolean;
  userSetDislike: boolean;
}

export interface GetPostReturns {
  post: Post | undefined;
  rate: Rate | undefined;
}

export interface Empty {
}

export interface PaginatedPosts {
  posts: Post[];
  totalCount: number;
  pageCount: number;
  currentPage: number;
  searchString: string;
  isEmpty: boolean;
}

export interface PaginationArgs {
  searchString: string;
  page: number;
  take: number;
}

export interface CreatePostArgs {
  imageUrl: string;
  title: string;
  description: string;
  body: string;
  category: string;
  refreshToken: string;
}

export interface CreatePostReturns {
  result: string;
}

export interface Comment {
  userId: string;
  text: string;
  createdAt: number;
}

export interface Post {
  id: string;
  imageUrl?: string | undefined;
  title: string;
  body: string;
  description: string;
  authorId: string;
  authorName: string;
  category: string;
  views: number;
  viewsBy: string[];
  likes: number;
  dislikes: number;
  likedBy: string[];
  dislikedBy: string[];
  comments: Comment[];
  commentCount: number;
  createdAt: number;
}

export interface AddViewArgs {
  id: string;
  refreshToken: string;
}

export interface AddViewAReturns {
  result: string;
  userExists: boolean;
}

export interface AddLikeArgs {
  id: string;
  refreshToken: string;
}

export interface AddLikeReturns {
  result: string;
  currentLikeCount: number;
  currentDislikeCount: number;
  userSetLike: boolean;
  userSetDislike: boolean;
}

export const POST_PACKAGE_NAME = "post";

export interface PostServiceClient {
  getAllPosts(request: PaginationArgs): Observable<PaginatedPosts>;

  getPost(request: FindPostById): Observable<GetPostReturns>;

  createPost(request: CreatePostArgs): Observable<CreatePostReturns>;

  addView(request: AddViewArgs): Observable<AddViewAReturns>;

  addLike(request: AddLikeArgs): Observable<AddLikeReturns>;
}

export interface PostServiceController {
  getAllPosts(request: PaginationArgs): Promise<PaginatedPosts> | Observable<PaginatedPosts> | PaginatedPosts;

  getPost(request: FindPostById): Promise<GetPostReturns> | Observable<GetPostReturns> | GetPostReturns;

  createPost(request: CreatePostArgs): Promise<CreatePostReturns> | Observable<CreatePostReturns> | CreatePostReturns;

  addView(request: AddViewArgs): Promise<AddViewAReturns> | Observable<AddViewAReturns> | AddViewAReturns;

  addLike(request: AddLikeArgs): Promise<AddLikeReturns> | Observable<AddLikeReturns> | AddLikeReturns;
}

export function PostServiceControllerMethods() {
  return function (constructor: Function) {
    const grpcMethods: string[] = ["getAllPosts", "getPost", "createPost", "addView", "addLike"];
    for (const method of grpcMethods) {
      const descriptor: any = Reflect.getOwnPropertyDescriptor(constructor.prototype, method);
      GrpcMethod("PostService", method)(constructor.prototype[method], method, descriptor);
    }
    const grpcStreamMethods: string[] = [];
    for (const method of grpcStreamMethods) {
      const descriptor: any = Reflect.getOwnPropertyDescriptor(constructor.prototype, method);
      GrpcStreamMethod("PostService", method)(constructor.prototype[method], method, descriptor);
    }
  };
}

export const POST_SERVICE_NAME = "PostService";
